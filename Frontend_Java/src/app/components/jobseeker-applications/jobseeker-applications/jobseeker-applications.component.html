<div class="container py-5">
  <!-- Header Section with Gradient -->
  <div class="dashboard-header rounded-4 mb-4 p-4 text-white">
    <div class="d-flex justify-content-between align-items-center">
      <div>
        <h2 class="fw-bold mb-1">
          <i class="bi bi-file-earmark-text me-2"></i> Your Job Applications
        </h2>
        <p class="mb-0 opacity-75">Track and manage your job applications</p>
      </div>
      <div class="applications-count">
        <span class="badge bg-white text-primary rounded-pill fs-6">
          {{ applications.length }} Application{{ applications.length !== 1 ? 's' : '' }}
        </span>
      </div>
    </div>
  </div>

  <!-- Error Message -->
  <div *ngIf="errorMessage" class="alert alert-white alert-dismissible fade show rounded-3 shadow-sm" role="alert">
    <i class="bi bi-exclamation-triangle-fill me-2 text-danger"></i>
    {{ errorMessage }}
    <button type="button" class="btn-close" (click)="errorMessage = ''"></button>
  </div>

  <!-- Applications List -->
  <div *ngIf="!errorMessage && applications.length > 0" class="applications-list">
    <div class="card border-0 shadow-sm rounded-3 overflow-hidden">
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="bg-gradient-primary text-white">
            <tr>
              <th class="ps-4">Application ID</th>
              <th>Job Title</th>
              <th>Status</th>
              <th class="text-end pe-4">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let app of applications" class="application-row">
              <td class="ps-4 fw-medium">{{ app.applicationId }}</td>
              <td>{{ app.jobTitle }}</td>
              <td>
                <span class="badge" [ngClass]="{
                  'bg-warning': app.status === 'PENDING',
                  'bg-info': app.status === 'REVIEWED',
                  'bg-success': app.status === 'SHORTLISTED',
                  'bg-danger': app.status === 'REJECTED',
                  'bg-primary': app.status === 'APPLIED'
                }">
                  {{ app.status }}
                </span>
              </td>
              <td class="text-end pe-4">
                <button class="btn btn-outline-danger btn-sm rounded-pill" (click)="withdraw(app.applicationId)">
                  <i class="bi bi-trash me-1"></i> Withdraw
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Empty State -->
  <div *ngIf="!errorMessage && applications.length === 0" class="empty-state text-center py-5">
    <div class="empty-icon mb-4">
      <i class="bi bi-file-earmark-text text-muted" style="font-size: 3rem;"></i>
    </div>
    <h4 class="mb-3 text-dark">No Applications Found</h4>
    <p class="text-muted mb-4">You haven't applied to any jobs yet.</p>
    <button class="btn btn-gradient-primary px-4 rounded-pill" routerLink="/jobseeker/jobs">
      <i class="bi bi-search me-2"></i> Apply Jobs
    </button>
  </div>
</div>